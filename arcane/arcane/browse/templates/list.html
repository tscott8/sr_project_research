<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Minimal Django File Upload Example</title>
    </head>

    <body>
        <!-- List of uploaded tracks -->
        <fieldset>
          <legend>Genres</legend>
        {% if genres %}
        <ul>
              {% for genre in genres %}
                  <li><a href="">{{ genre.name }}</a></li>
              {% endfor %}
          </ul>
        {% else %}
          <p>No genres.</p>
        {% endif %}
        </fieldset>

        <fieldset>
          <legend>Artists</legend>
        {% if artists %}
          <ul>
              {% for artist in artists %}
                  <li><a href="">{{ artist.name }}</a></li>
              {% endfor %}
          </ul>
        {% else %}
          <p>No artists.</p>
        {% endif %}
        </fieldset>

        <fieldset>
          <legend>Tracks</legend>
        {% if tracks %}
          <table>
              <thead>
                <th>Track</th>
                <th>Album</th>
                <th>Artist</th>
                <th>Genre</th>
              </thead>
              <tbody>
              {% for track in tracks %}
                  <tr>
                    <td><a href="{{ track.url.url }}">{{ track.name }}</a></td>
                    <td>{{ track.album.name }}</td>
                    <td>{{ track.artist.name }}</td>
                    <td>{{ track.genre.name}}</td>
                  </tr>
              {% endfor %}
            </tbody>
          </table>
        {% else %}
          <p>No tracks.</p>
        {% endif %}
      </fieldset>

        <!-- Upload form. Note enctype attribute! -->
        <fieldset>
        <legend>Upload</legend>
          <form action="{% url "list" %}" method="post" enctype="multipart/form-data">
              {% csrf_token %}
              <p>
                {{ form.uploadfiles.label_tag }}
                {{ form.non_field_errors }}
                {{ form.uploadfiles.help_text }}
                {{ form.uploadfiles.errors }}
                {{ form.uploadfiles }}
              </p>
            <p><input type="submit" value="Upload"/></p>
          </form>
        </fieldset>
    </body>

</html>
